{"version":3,"file":"index.umd.js","sources":["../../src/modules/join/index.ts","../../src/client/index.ts","../../src/index.ts"],"sourcesContent":["import { SubgraphClient } from '@/client';\nimport { PoolState } from '@/modules/join/types';\n\nexport class JoinData {\n  readonly poolStateQuery = `\n  query GetAllPools($id: String!){\n    poolGetPool(id:$id) {\n      id\n      address\n      name\n      type\n      version\n      ... on GqlPoolWeighted {\n        tokens {\n          ... on GqlPoolTokenBase {\n            address\n             decimals\n            index\n          }\n        }\n      }\n      ... on GqlPoolStable {\n        tokens {\n          ... on GqlPoolTokenBase {\n            address\n             decimals\n            index\n          }\n        }\n      }\n      ... on GqlPoolPhantomStable {\n        tokens {\n          ... on GqlPoolTokenBase {\n            address\n             decimals\n            index\n          }\n        }\n      }\n      ... on GqlPoolGyro {\n        tokens {\n          ... on GqlPoolTokenBase {\n            address\n             decimals\n            index\n          }\n        }\n      }\n      ... on GqlPoolLiquidityBootstrapping {\n        tokens {\n          ... on GqlPoolTokenBase {\n            address\n             decimals\n            index\n          }\n        }\n      }\n      ... on GqlPoolElement {\n        tokens {\n          ... on GqlPoolTokenBase {\n            address\n             decimals\n            index\n          }\n        }\n      }\n      ... on GqlPoolLiquidityBootstrapping {\n        tokens {\n          ... on GqlPoolTokenBase {\n            address\n             decimals\n            index\n          }\n        }\n      }\n    }\n}\n  `;\n\n  constructor(private readonly subgraphClient: SubgraphClient) {}\n\n  async fetchPoolState(id: string): Promise<PoolState> {\n    return await this.subgraphClient.fetch('poolGetPool', this.poolStateQuery, {\n      id,\n    });\n  }\n}\n","import axios from 'axios';\n\nexport class SubgraphClient {\n  subgraphUrl: string;\n  chainId: number;\n  constructor(subgraphUrl: string, chainId: number) {\n    this.subgraphUrl = subgraphUrl;\n    this.chainId = chainId;\n  }\n\n  async fetch(operationName: string, query: any, variables: any) {\n    const requestQuery = {\n      operationName,\n      query,\n      variables,\n    };\n    const response = await axios({\n      method: 'post',\n      url: this.subgraphUrl,\n      data: JSON.stringify(requestQuery),\n    });\n    return response.data;\n  }\n}\n","import { JoinData } from \"./modules/join\";\nimport { SubgraphClient } from \"@/client\";\n\nexport default class BalancerAPI {\n  \n  subgraphClient: SubgraphClient;\n  joinData: JoinData;\n  \n  \n  constructor(subgraphUrl: string, chainId: number){\n    this.subgraphClient = new SubgraphClient(subgraphUrl, chainId);\n    this.joinData = new JoinData(this.subgraphClient);\n  }\n  \n  \n}"],"names":["JoinData","constructor","subgraphClient","this","poolStateQuery","fetchPoolState","id","fetch","SubgraphClient","subgraphUrl","chainId","operationName","query","variables","requestQuery","axios","method","url","data","JSON","stringify","joinData"],"mappings":"wWAGaA,EA4EX,WAAAC,CAA6BC,GAAAC,KAAcD,eAAdA,EA3EpBC,KAAAC,eAAiB,06CA2EqC,CAE/D,oBAAMC,CAAeC,GACnB,aAAaH,KAAKD,eAAeK,MAAM,cAAeJ,KAAKC,eAAgB,CACzEE,MAEH,QCnFUE,EAGX,WAAAP,CAAYQ,EAAqBC,GAC/BP,KAAKM,YAAcA,EACnBN,KAAKO,QAAUA,CAChB,CAED,WAAMH,CAAMI,EAAuBC,EAAYC,GAC7C,MAAMC,EAAe,CACnBH,gBACAC,QACAC,aAOF,aALuBE,UAAM,CAC3BC,OAAQ,OACRC,IAAKd,KAAKM,YACVS,KAAMC,KAAKC,UAAUN,MAEPI,IACjB,SCnBW,MAMZ,WAAAjB,CAAYQ,EAAqBC,GAC/BP,KAAKD,eAAiB,IAAIM,EAAeC,EAAaC,GACtDP,KAAKkB,SAAW,IAAIrB,EAASG,KAAKD,eACnC"}